# 光模块封装标准


> https://zhuanlan.zhihu.com/p/406107097


在光通信行业，光模块物理尺寸、通道数目、传输速率差异显著，其生产和特性都由标准决定。本文聚焦生命力旺盛或较新的封装标准，忽略GBIC、XPAK、X2、Xenpak等老旧标准，逐一评析。

## 一、SFF标准化组织概述
SFF（small form-factor 小型化封装）标准化组织1990年8月成立，最初制定2.5寸磁盘驱动器标准，1992年11月拓展到其他领域。目前已成为光模块封装领域最常见、最成功的模块标准，制定的核心标准包括SFP、QSFP、XFP。

## 二、核心封装标准详解
### （一）SFP标准
SFP（small form-factor Pluggable，小型化可热插拔收发器）主要用于Ethernet、fibre channel、Wireless CPRI、SONET，协议族定义了从1Gb/s到28Gb/s单通道SFP封装标准。

1. 标准体系：以声明文件+技术要求文件构成，如SFF-8402提出SFP28、SFF-8083提出SFP10（常写为SFP+），声明文件引用的技术要求集合构成实质标准。
2. 核心技术规范：
   - SFF-8432：定义模块尺寸（主要是安装配合尺寸）、拔插力、模块笼子规范。
   - SFF-8071：定义HOST主板上的卡槽连接器以及模块主板金手指接入顺序。
   - SFF-8433：定义多个并排的模块笼子和EMI弹片技术规范。
   - SFF-8472：定义模块存储器以及诊断管理规范。
   - SFF-8431：原定义电源、低速电信号、高速信号、时序、存储器读写规范，后因速率提升拆分为SFF-8418（10Gb/s高速电信号接口）和SFF-8419（高速信号以外内容，适用于所有SFP系列）。
3. 设计人员注意事项：结构设计工程师需熟知SFF-8431；PCB设计、软件编写、测试人员需熟练掌握SFF-8472、SFF-8418、SFF-8419。
4. 协议获取：SFF所有协议可在ftp://ftp.seagate.com/sff/ 免费下载。
5. 模块与对应规范：
   - SFP28：声明文件SFF-8402，引用SFF-8432、SFF-8071等技术规范。
   - SFP16：声明文件SFF-8081。
   - SFP10（SFP+）：声明文件SFF-8083。
   - SFP：声明文件SFF-8084。

### （二）QSFP标准
QSFP（Quad Small Form-factor Pluggable，四通道小型化可插拔收发器）主要用于Infiniband、Ethernet、Fibre Channel、OTN、SONET，将单通道SFP升级为四通道，体积仅增加一倍多，相同尺寸交换机的交换容量是SFP的2.67倍。

1. 标准演进：最初由INF-8438i定义，升级到SFF-8436后拆分为多个部分，架构与SFP类似。
2. 核心技术规范：
   - SFF-8679：定义模块高速信号、低速信号、电源、时序规范，以及光接口和拉环颜色规范。
   - SFF-8636：定义存储器信息和存储器读写操作。
   - SFF-8661：定义模块尺寸、金手指尺寸以及模块拔插力规范。
   - SFF-8662、SFF-8663：定义QSFP28模块的笼子及连接器（类型A）。
   - SFF-8672、SFF-8683：定义QSFP28模块的笼子及连接器（类型B）。
   - SFF-8682、SFF-8683：定义QSFP14及以下速率模块的笼子及连接器。
3. 补充信息：可在Infiniband协议（InfiniBand TM Architecture Specification Volume 2）中查看。
4. 模块与对应规范：
   - QSFP28：声明文件SFF-8665，引用SFF-8679、SFF-8636等技术规范。
   - QSFP14：声明文件SFF-8685。
   - QSFP10：声明文件SFF-8635。
   - QSFP：声明文件INF-8438i、SFF-8436。

### （三）XFP标准
XFP（10 Gb/s Small Form Factor Pluggable module，10Gb/s 小型可插拔光模块）中X在罗马数字代表10，主要用于SONET OC-192、10 Gigabit Ethernet、fibre channel，是波长可调的模块。

1. 标准体系：最初由XFP MSA定义，后提交给SFF组织发布，包含SFF-8477和INF-8077。
2. 核心规范：
   - INF-8077：定义XFP模块的尺寸、电接口、存储器信息、通信控制与诊断。
   - SFF-8477：主要优化波长调节控制。

### （四）CXP标准
CXP（12x Small Form-factor Pluggable，12通道小型可插拔封装）中C代表100G，主要用于Infiniband、fibre channel、Ethernet，协议主要由Infiniband组织规范。

1. 核心规范：Annex A6 120 Gb/s 12x Small Form-factor pluggable（CXP）Interface Specification for Cables, Active Cables & Transceivers规定了CXP各方面规范，可在http://www.infinibandta.org 免费下载。
2. SFF组织补充规范：
   - SFF-8617：12通道CXP笼子和模块板卡插槽规范。
   - SFF-8642：12x10Gb/s CXP模块笼子和模块板卡插槽规范（CXP10）。
   - SFF-8647：12x14Gb/s CXP模块笼子和模块板卡插槽规范（CXP14）。
   - SFF-8648：12x28Gb/s CXP模块笼和模块板卡插槽规范（CXP28）。

### （五）microQSFP标准
microQSFP是2015年成立的多元协议，与QSFP一样为4个通道，尺寸仅SFP模块大小，支持25G和50G（PAM4调制）通道速率。通过模块壳体上的散热翅片设计，具备更优异的热性能。

1. 规范获取：“Micro QUAD SMALL FORM-FACTOR PLUGGABLE FOUR CHANNEL PLUGGABLE TRANSCEIVER, HOST CONNECTOR, & CAGE ASSEMBLY FORM FACTOR”详细说明规范，可在http://www.microqsfp.com/ 下载。

### （六）CFP封装形式
CFP中的C在罗马数字代表100，主要针对100G（含40G）及以上速率应用，家族主要包括CFP/CFP2/CFP4/CFP8（CFP8处于提议阶段）。与QSFP不同，CFP后面的数字代表更新换代，尺寸更紧凑（CFP8除外），速率密度更高。

1. CFP：最初单路25Gb/s技术难实现，每路电接口速率定义为10Gb/s等级，通过4x10Gb/s和10x10Gb/s电接口实现40G和100G模块速率。尺寸大，可集成主板部分功能（如ASIC SerDes），实现速率转换。
2. CFP2：尺寸仅CFP的一半，电接口支持单路10Gb/s、25Gb/s甚至50Gb/s，通过10x10G、4x25G、8x25G、8x50G电接口实现100G/200G/400G模块速率。
3. CFP4：尺寸为CFP2的一半，电接口支持单路10Gb/s和25Gb/s，通过4x10Gb/s和4x25Gb/s实现40G/100G模块速率。管理功能强、尺寸大，支持更大功耗，在25Gb/s以上速率和长距离传输场景有优势。短距离数据通信以QSFP为主；100G-LR4 10km应用中，CFP4和QSFP28平分秋色。
4. CFP8：专门针对400G提出，尺寸与CFP2相当，电接口支持25Gb/s和50Gb/s通道速率，通过16x25G或8x50电接口实现400G模块速率，目前仅为Proposal，无正式标准。
5. 标准体系：每个CFP标准包含3个文件，“CFPx MSA Hardware Specification Revision”为纲领性文件，另两个文件定义详细机械尺寸。还有PIN Allocation REV.25（引脚定义）和“CFP MSA Management Interface Specification”（管理控制、寄存器信息）两个公共技术规范。高速电接口引用IEEE802.3和OIF相关规范。

### （七）CDFP标准
CDFP MSA于2013年成立，发布的CDFP封装标准是首个400G光模块封装标准。当时电口标准为25Gb/s（OIF-CEI-28G-VSR），通过16x25G实现400G模块速率，专门针对2km以下短距离应用。

1. 结构设计：采用两块PCB板摞起设计，光口采用MPO16接口，模块体积较大，根据光口和电口排布有三种模块尺寸（类型2和类型3外观相似）。
2. 标准获取：最新标准为“400 Gb/s (16 X 25 GB/s) PLUGGABLE TRANSCEIVER Rev 3.0”，规定电接口、管理接口、光接口、尺寸、EMI/ESD等内容，可在http://cdfp-msa.org/CDFPrev3-0-Mar20-2015-released.pdf 下载。

### （八）QSFP-DD标准
QSFP-DD组织2016年2月成立，2016年9月发布“QSFP DOUBLE DENSITY 8X PLUGGABLE TRANSCEIVER Rev 1.0”标准。尺寸与QSFP大体一致（因多一排电路稍长），核心改变是电接口由四路加倍为八路，支持50Gb/s通道速率（8X50实现400G），电接口可兼容QSFP，但反之不行。

### （九）CSFP标准
CSFP最新标准为2009年发布的“campact SFP specifications”，虽发布时间早但不过时。“campact”意味着比SFP光模块更紧凑，通道数目可灵活配置，定义了3种类别：1CH campact SFP、2CH campact SFP option1、2CH campact SFP option2。

### （十）CFP2-ACO标准
CFP2-ACO是光模块封装标准中的尖端技术，主要由OIF定义，引用CFP2的机械尺寸，ACO意为模拟相干光模块。

1. 组成：由窄线宽可调激光器、调制器、相干接收机组成，DSP（数字信号处理）置于模块外部。
2. 性能：通过DP-QPSK、DP-xQAM调制技术，单波长速率超100Gb/s，传输距离可超过2000km。
3. 规范获取：可在OIF网站免费下载“Implementation Agreement for CFP2-Analogue Coherent Optics Module”。

## 三、补充说明
所有光模块标准基本仅规定模块定位尺寸、电接口、管理接口、寄存器信息，未规定任何光学指标。光学指标与应用场景相关，如CWDM4、LR4等属于规定光学指标的子层标准体系，不在本文探讨范围内。

要不要我帮你整理一份**主流光模块封装标准核心参数对照表**，方便你快速对比不同标准的速率、通道数、尺寸等关键信息？







